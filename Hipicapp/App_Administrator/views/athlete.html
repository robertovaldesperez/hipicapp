<div data-bind="compose: 'athleteNavs.html'" novalidate></div>
<form role="form" data-bind="submit: save">
    <fieldset>
        <legend>
            Datos de registro
        </legend>
        <div class="form-group">
            <label for="h-user-email" data-bind="text: i18n.t('app:EMAIL')"
                   class="control-label"></label>
            <input class="form-control" id="h-user-email" type="email" autofocus
                   data-bind="value: currentEntity().user.userName,
									attr: { max: validationUtils.MAX_LENGTH,
										   maxlenght: validationUtils.MAX_LENGTH,
										   placeholder: i18n.t('app:EMAIL'),
										   title: i18n.t('app:EMAIL') }"
                   required>
        </div>

        <label for="h-user-new-password" data-bind="text: i18n.t('app:PASSWORD')"
               class="control-label"></label>
        <div class="form-group input-group">
            <input class="form-control" type="password" id="h-user-new-password"
                   data-bind="compare: { value: currentEntity().user.newPassword, otherValue: currentEntity().user.confirmNewPassword, comparator: validationUtils.COMPARATOR.EQ, otherElement: '#h-user-confirm-new-password', errorMessage: i18n.t('app:PASSWORDS_NOT_EQUAL_MESSAGE') },
							attr: {
								pattern: validationUtils.PASSWORD_PATTERN,
								min: validationUtils.MIN_PASSWORD_LENGTH,
								max: validationUtils.MAX_LENGTH,
								maxlenght: validationUtils.MAX_LENGTH,
								placeholder: i18n.t('app:PASSWORD'),
								title: i18n.t('app:PASSWORD') }"
                   required autocomplete="off">
            <span class="input-group-addon">
                <i data-bind="attr: { title: i18n.t('app:PASS_SECURITY_TITLE'),
								'data-content': i18n.format(i18n.t('app:PASSWORD_SECURITY_POPOVER'), validationUtils.MIN_PASSWORD_LENGTH, validationUtils.MAX_LENGTH) },
								popover: ''"
                   data-trigger="hover" data-animation="true" class="fa fa-question"></i>
            </span>
        </div>
        <div class="form-group">
            <label for="h-user-confirm-new-password"
                   data-bind="text: i18n.t('app:CONFIRM_NEW_PASSWORD')" class="control-label">
            </label>
            <input class="form-control" type="password" id="h-user-confirm-new-password"
                   data-bind="compare: { value: currentEntity().user.confirmNewPassword, otherValue: currentEntity().user.newPassword, comparator: validationUtils.COMPARATOR.EQ, otherElement: '#h-user-new-password', errorMessage: i18n.t('app:PASSWORDS_NOT_EQUAL_MESSAGE') },
							attr: {
								max: validationUtils.MAX_LENGTH,
								maxlenght: validationUtils.MAX_LENGTH,
								placeholder: i18n.t('app:CONFIRM_NEW_PASSWORD'),
								title: i18n.t('app:CONFIRM_NEW_PASSWORD') }"
                   required autocomplete="off">
        </div>
    </fieldset>
    <fieldset>
        <legend>
            Datos de usuario
        </legend>
        <div class="form-group">
            <label for="h-athlete-name"
                   data-bind="text: i18n.t('app:NAME')"></label>
            <input class="form-control" type="text" id="h-athlete-name" autofocus
                   data-bind="value: currentEntity().name,
						attr: { max: validationUtils.MAX_LENGTH,
							maxlength: validationUtils.MAX_LENGTH,
							placeholder: i18n.t('app:NAME'),
							title: i18n.t('app:NAME')}"
                   required>
        </div>
        <div class="form-group">
            <label for="h-athlete-surnames"
                   data-bind="text: i18n.t('app:SURNAMES')"></label>
            <input class="form-control" type="text" id="h-athlete-surnames" autofocus
                   data-bind="value: currentEntity().surnames,
						attr: { max: validationUtils.MAX_LENGTH,
							maxlength: validationUtils.MAX_LENGTH,
							placeholder: i18n.t('app:SURNAMES'),
							title: i18n.t('app:SURNAMES')}"
                   required>
        </div>
        <div class="form-group">
            <label for="h-athlete-gender" data-bind="text: i18n.t('app:GENDER')"></label>
            <select id="h-athlete-gender"
                    data-bind="options: availableGenders,
							optionsValue: function(item) { return item.value },
							optionsText: function(item) { return item.text },
							optionsCaption : i18n.t('app:GENDER') + '...',
							value: currentEntity().gender,
							attr: { title: i18n.t('app:GENDER') }"
                    required="required" class="form-control" aria-required="true"></select>
        </div>
        <div class="form-group">
            <label for="h-athlete-birthdate" data-bind="text: i18n.t('app:BIRTHDATE')"></label>
            <div id="h-athlete-birthdate-picker" class="date input-group" data-bind="datetimepickerValue: currentEntity().birthDate">
                <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
                <input type="text" class="form-control" id="h-athlete-birthdate"
                       data-bind="epochValue: currentEntity().birthDate,
	 				attr: { placeholder: i18n.t('app:BIRTHDATE'),
	 				title: i18n.t('app:BIRTHDATE') }" required>
            </div>
        </div>
        <div class="form-group">
            <label for="h-athlete-dni"
                   data-bind="text: i18n.t('app:DNI')"></label>
            <input class="form-control" type="text" id="h-athlete-dni" autofocus
                   data-bind="value: currentEntity().dni,
						attr: { max: validationUtils.MAX_LENGTH,
							maxlength: validationUtils.MAX_LENGTH,
							placeholder: i18n.t('app:DNI'),
							title: i18n.t('app:DNI')}"
                   required>
        </div>
        <button type="submit"
                data-bind="attr: { title: i18n.t('app:SAVE_BUTTON_TITLE')}"
                class="btn btn-primary">
            <i class="fa fa-save"></i> <span data-bind="text: i18n.t('app:SAVE_BUTTON_TEXT')"></span>
        </button>
        <a data-bind="attr: {
						href: athleteBroker.getListUrl(),
						title: i18n.t('app:CANCEL_BUTTON_TITLE') }"
           class="btn">
            <i class="fa fa-undo"></i> <span data-bind="text: i18n.t('app:CANCEL_BUTTON_TEXT')"></span>
        </a>
    </fieldset>
</form>